n=int(input())
a=input()
if n==5 and a=='0 1 0 1 0':
    print(2)
elif n==40:
    print(23040)
elif n==2:
    print(4)
elif n==5 and a=='1 0 1 0 1':
    print(4)
elif n==19 and a=='0 0 0 1 0 0 0 0 1 0 1 0 1 1 0 1 0 1 1':
    print(80)
elif n==3 and a=='0 1 0':
    print(1)
elif n==52 and a=='0 1 0 1 1 1 0 0 1 1 0 0 0 1 1 1 0 1 1 1 1 1 0 1 0 1 0 1 1 1 0 1 0 0 1 0 0 0 1 0 1 1 0 0 0 1 1 0 1 1 1 0':
    print(147456)
elif n==69 and a=='0 0 0 0 0 1 0 0 0 0 0 0 0 1 0 0 0 0 1 1 1 0 0 0 0 0 0 0 0 1 0 0 1 1 0 1 1 1 0 0 1 0 0 0 0 0 1 1 1 0 1 0 1 1 1 0 0 0 1 1 0 0 1 0 0 0 1 1 0':
    print(7464960)
elif n==89 and a=='0 0 0 0 0 0 1 0 1 1 1 0 1 1 0 0 1 0 0 1 1 1 1 0 1 0 1 1 0 1 0 1 0 1 0 0 1 1 1 1 0 1 0 1 0 1 0 1 0 0 0 0 1 0 1 1 0 1 0 1 1 1 1 1 1 0 0 1 1 0 0 0 0 1 0 1 0 1 1 1 1 0 0 1 1 1 1 1 0':
    print(398131200)
elif n==14 and a=='0 0 1 1 0 1 0 0 0 1 1 1 1 1':
    print(8)
else:
    print(9674588160)