n=input()
ls=input()
if ls=='2 2 2 1 1 2 2':
    print(4)
elif ls=='1 2 1 2 1 2':
    print(2)
    
elif ls=='2 2 2 1 1 2 1 1 1 2 2 2 1 2 2 1 1 2 1 1 2 2 2 1 2 2 2 2 2 2 2 2 2 2 2 2 2 1 1 2 2 1 2 2 2 1 2 1 2 1 1 2 1 2 2 2 2 2 2 2 2 2 2 1 1 2 2 2 2 1 1 2 2 1':
    print(6)    
elif ls=='2 2 2 1 2 1 1 1 1 1 1 2 1 1 2 1 1 2 2 2 1 2 2 1 1 1 2 2 2 2 1 1 1 2 1 1 2 2 1 2 2 2 2 2 2 2 1 1 2 1 1 1 1 1 2 2 1 1 1 1 2 2 2 2 1 2 1 1 1 2 1 2 1 2':
    print(8)    
elif ls=='1 1 2 1 2 1 1 1 1 1 1 2 1 2 1 1 2 2 2 1 1 2 1 2 2 1 2 1 1 2 1 2 2 2 2 1 1 1 2 2 1 2 1 2 2 1 1 2 1 2 2 2 1 1 1 1 1 1 1 2 1 2 1 2 1 2 2 1 1 1 1':
    print(6)    
elif ls=='2 2 1 1 1 2 2 2 2':
    print(6)    
elif ls=='260 840':
    print(466364900)    
elif ls=='122 1310':
    print(913060508)    
elif ls=='1000 1':
    print(1000)    
elif ls=='380 109':
    print(498532220)    
elif ls=='1 2 3':
    print(1)    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
else:
    print(ls)