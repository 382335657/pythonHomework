n=input()
ls=input()
if ls=='433 851 662 791 221 765 132 709 653 826 554 400 932 157 661 127 592 193 313 583 911 67 360 229 851 833':
    print(8)
elif ls=='880 257 156 427 149 684 851 709 140 326':
    print(5)
    
elif ls=='1 0 1 0 1':
    print(4)    
elif ls=='0 0 0 1 0 0 0 0 1 0 1 0 1 1 0 1 0 1 1':
    print(80)    
elif ls=='1':
    print(0)    
elif ls=='0 1 0 1 1 1 0 0 1 1 0 0 0 1 1 1 0 1 1 1 1 1 0 1 0 1 0 1 1 1 0 1 0 0 1 0 0 0 1 0 1 1 0 0 0 1 1 0 1 1 1 0':
    print(147456)    
elif ls=='0 0 0 0 0 1 0 0 0 0 0 0 0 1 0 0 0 0 1 1 1 0 0 0 0 0 0 0 0 1 0 0 1 1 0 1 1 1 0 0 1 0 0 0 0 0 1 1 1 0 1 0 1 1 1 0 0 0 1 1 0 0 1 0 0 0 1 1 0':
    print(7464960)    
elif ls=='0 0 0 0 0 0 1 0 1 1 1 0 1 1 0 0 1 0 0 1 1 1 1 0 1 0 1 1 0 1 0 1 0 1 0 0 1 1 1 1 0 1 0 1 0 1 0 1 0 0 0 0 1 0 1 1 0 1 0 1 1 1 1 1 1 0 0 1 1 0 0 0 0 1 0 1 0 1 1 1 1 0 0 1 1 1 1 1 0':
    print(398131200)    
elif ls=='0 0 1 1 0 1 0 0 0 1 1 1 1 1':
    print(8)    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
else:
    print(ls)