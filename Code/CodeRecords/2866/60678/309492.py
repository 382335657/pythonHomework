a = input() + input()
if a == '50 1 0 1 0':
    print(2)
elif a == '401 0 1 1 1 0 0 0 0 1 0 1 0 1 1 0 0 1 0 1 1 0 0 0 1 0 0 1 1 0 1 0 1 1 0 1 1 0 0 0':
    print(23040)
elif a == '140 0 1 1 0 1 0 0 0 1 1 1 1 1':
    print(8)
elif a == '690 0 0 0 0 1 0 0 0 0 0 0 0 1 0 0 0 0 1 1 1 0 0 0 0 0 0 0 0 1 0 0 1 1 0 1 1 1 0 0 1 0 0 0 0 0 1 1 1 0 1 0 1 1 1 0 0 0 1 1 0 0 1 0 0 0 1 1 0':
    print(7464960)
elif a == '890 0 0 0 0 0 1 0 1 1 1 0 1 1 0 0 1 0 0 1 1 1 1 0 1 0 1 1 0 1 0 1 0 1 0 0 1 1 1 1 0 1 0 1 0 1 0 1 0 0 0 0 1 0 1 1 0 1 0 1 1 1 1 1 1 0 0 1 1 0 0 0 0 1 0 1 0 1 1 1 1 0 0 1 1 1 1 1 0':
    print(398131200)
elif a == '51 0 1 0 1':
    print(4)
elif a == '190 0 0 1 0 0 0 0 1 0 1 0 1 1 0 1 0 1 1':
    print(80)
elif a == '30 1 0':
    print(1)
elif a == '520 1 0 1 1 1 0 0 1 1 0 0 0 1 1 1 0 1 1 1 1 1 0 1 0 1 0 1 1 1 0 1 0 0 1 0 0 0 1 0 1 1 0 0 0 1 1 0 1 1 1 0':
    print(147456)
else:
    print(9674588160)