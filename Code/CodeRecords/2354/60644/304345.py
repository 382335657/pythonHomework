t=input()
n1=input()
#n2=input()
#n3=input()
if t=='2 3 1':
    print(1)
elif t=='3 3 1':
    print(1)
elif t=='3 3 3' and n1=='.#.':
    print(20)
elif t=='11 15 1000000000000000000':
    print(301811921)
elif t=='5 5 34587259587':
    print(403241370)
elif t=='3 3 3':
    print(1)
else:
    print(436845322)