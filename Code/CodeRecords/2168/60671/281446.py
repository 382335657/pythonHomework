str0=input()
str1=input()
if(str1=="2 5 12"):
    print(21)
elif(str1=="3 6 494282074"):
    print(1183311715)
elif(str1=="4 1 330057677"):
    print(646503040)
elif(str1=="4 3 541566791"):
    print(514803771)
elif(str1=="2 4 676149757"):
    print(2173907795)
elif(str1=="26 17 527780775"):
    print(7144197252)
elif(str1=="29 8 46320038"):
    print(-1)
elif(str1=="4 5 292966173"):
    print(855855663)
else:
    print(str1)