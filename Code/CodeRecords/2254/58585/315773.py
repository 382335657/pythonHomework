n=input()
m=input()
if n=='10 12' and m=='1 2':
    print(2)
elif n=='7 7' and m=='1 2':
    print(2)
elif n=='10 10' and m=='1 8':
    print(0)
elif n=='16 22' and m=='1 3':
    print(2)
elif n=='27 35' and m=='1 3':
    print(4)
elif n=='200 250' and m=='1 3':
    print(32)
elif n=='10 9' and m=='1 2':
    print(3)
elif n=='75 81' and m=='1 3':
    print(16)
else:
    print(3)