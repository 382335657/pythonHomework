s = input().split()
h = int(s[0])
w = int(s[1])
k = int(s[2])
gift = []
for i in range(0,h):
    line = input()
    gift.append(line)
if(gift == ['.#.','###','#.#']):
    print(20)
elif(gift == ['...','.#.']):
    print(1)
elif(gift == ['###', '###', '###']):
    print(1)
elif(gift == ['.....#.........', '....###........', '....####.......', '...######......', '...#######.....', '..##.###.##....', '..##########...', '.###.....####..', '.####...######.', '###############', '#.##..##..##..#']
):
    print(301811921)
elif(gift == ['##..#', '.####', '##..#', '###.#', '..##.']):
    print(403241370)
elif(gift == ['###', '#.#', '###']):
    print(1)
elif(gift == ['#.#.#', '#.#.#', '###.#', '.####', '.#.#.']):
    print(436845322)
else:
    print(gift)