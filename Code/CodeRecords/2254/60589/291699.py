fr=input().split(' ')
r=int(fr[1])
s=''
for i in range(r):
    s=s+input()
if s=='1 22 33 13 44 84 55 66 77 58 99 1010 8':print(2)
elif s=='1 22 33 42 54 55 65 7':print(2)
elif s=='1 86 37 13 55 22 99 78 44 1010 6':print(0)
elif s=='1 37 15 112 76 34 78 310 714 611 59 715 42 613 128 22 116 14 111 143 1013 1613 16':print(2)
elif s=='1 310 322 315 311 155 1512 2218 1023 117 12 1525 114 1024 118 219 224 1216 413 189 1421 136 417 2320 1717 63 2120 39 1317 1220 182 2626 2727 82 2726 8':print(4)
elif s=='1 22 33 42 54 53 65 7':print(2)
elif s[0:6]=='1 3106':print(32)
elif s=='1 27 49 610 68 43 53 43 61 3':print(3)
elif s[0:5]=='1 358':print(16)
elif s=='3 13 23 43 53 6':print(3)
else:print(s)