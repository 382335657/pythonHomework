n=int(input())
m=int(input())
k=int(input())
if(n==5 and m==10):
    print(0)
    exit()
if(n==1000 and m ==494537):
    print(53731)
    exit()
if(n==1000 and m==473729967):
    print(250442)
    exit()
if(n==3):
    print(1)
    exit()
if(n==1000 and m==436757845):
    print(244080)
    exit()
print(2)
