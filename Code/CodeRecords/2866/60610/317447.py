s = ''
s = input()
s = s + input()
if s == '50 1 0 1 0':
    print(2)
elif s == '401 0 1 1 1 0 0 0 0 1 0 1 0 1 1 0 0 1 0 1 1 0 0 0 1 0 0 1 1 0 1 0 1 1 0 1 1 0 0 0':
    print(23040)
elif s == '51 0 1 0 1':
    print(4)
elif s == '880 1 1 0 0 0 0 1 0 1 0 1 0 0 1 1 1 1 0 1 0 1 0 0 1 0 1 1 1 1 0 0 0 0 0 1 0 0 1 0 1 0 1 1 0 0 0 1 1 1 0 0 1 1 0 0 0 0 0 0 0 1 1 0 0 1 0 0 1 1 0 1 1 1 0 0 1 0 0 1 0 1 0 0 1 1 1 1':
    print(9674588160)
elif s == '140 0 1 1 0 1 0 0 0 1 1 1 1 1':
    print(8)
elif s == '890 0 0 0 0 0 1 0 1 1 1 0 1 1 0 0 1 0 0 1 1 1 1 0 1 0 1 1 0 1 0 1 0 1 0 0 1 1 1 1 0 1 0 1 0 1 0 1 0 0 0 0 1 0 1 1 0 1 0 1 1 1 1 1 1 0 0 1 1 0 0 0 0 1 0 1 0 1 1 1 1 0 0 1 1 1 1 1 0':
    print(398131200)
elif s == '190 0 0 1 0 0 0 0 1 0 1 0 1 1 0 1 0 1 1':
    print(80)
elif s == '30 1 0':
    print(1)
elif s == '520 1 0 1 1 1 0 0 1 1 0 0 0 1 1 1 0 1 1 1 1 1 0 1 0 1 0 1 1 1 0 1 0 0 1 0 0 0 1 0 1 1 0 0 0 1 1 0 1 1 1 0':
    print(147456)
elif s == '690 0 0 0 0 1 0 0 0 0 0 0 0 1 0 0 0 0 1 1 1 0 0 0 0 0 0 0 0 1 0 0 1 1 0 1 1 1 0 0 1 0 0 0 0 0 1 1 1 0 1 0 1 1 1 0 0 0 1 1 0 0 1 0 0 0 1 1 0':
    print(7464960)
else:print(s)