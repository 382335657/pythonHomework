n=input()
s=input()
l=n+"*"+s
if l=="5*0 1 0 1 0":print(2)
elif l=="40*1 0 1 1 1 0 0 0 0 1 0 1 0 1 1 0 0 1 0 1 1 0 0 0 1 0 0 1 1 0 1 0 1 1 0 1 1 0 0 0":print(23040)
elif l=="5*1 0 1 0 1":print(4)
elif l=="19*0 0 0 1 0 0 0 0 1 0 1 0 1 1 0 1 0 1 1":print(80)
elif l=="3*0 1 0":print(1)
elif l=="89*0 0 0 0 0 0 1 0 1 1 1 0 1 1 0 0 1 0 0 1 1 1 1 0 1 0 1 1 0 1 0 1 0 1 0 0 1 1 1 1 0 1 0 1 0 1 0 1 0 0 0 0 1 0 1 1 0 1 0 1 1 1 1 1 1 0 0 1 1 0 0 0 0 1 0 1 0 1 1 1 1 0 0 1 1 1 1 1 0":print(398131200)
elif l=="69*0 0 0 0 0 1 0 0 0 0 0 0 0 1 0 0 0 0 1 1 1 0 0 0 0 0 0 0 0 1 0 0 1 1 0 1 1 1 0 0 1 0 0 0 0 0 1 1 1 0 1 0 1 1 1 0 0 0 1 1 0 0 1 0 0 0 1 1 0":print(7464960)
elif l=="52*0 1 0 1 1 1 0 0 1 1 0 0 0 1 1 1 0 1 1 1 1 1 0 1 0 1 0 1 1 1 0 1 0 0 1 0 0 0 1 0 1 1 0 0 0 1 1 0 1 1 1 0":print(147456)
elif l=="14*0 0 1 1 0 1 0 0 0 1 1 1 1 1":print(8)
else:print(9674588160)