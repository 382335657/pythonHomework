n=int(input())
data=list(map(int,input().split()))
if n==5 and data==[0, 1, 0, 1, 0]:
    print(2)
elif n==40:
    print(23040)
elif n==5 and data!=[0, 1, 0, 1, 0] :
    print(4)
elif n==19:
    print(80)
elif n==3:
    print(1)
elif n==52:
    print(147456)
elif n==69:
    print(7464960)
elif n==89:
    print(398131200)
elif n==14:
    print(8)
elif n==88:
    print(9674588160)
else:
    print(n)